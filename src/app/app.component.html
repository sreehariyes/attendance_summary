<div class="container">
  <label for="department">Department</label>
  <select
    id="department"
    [(ngModel)]="department"
    name="department"
    (focus)="fetchDepartments()"
    (change)="onDepartmentChange()"
    required
  >
    <option value="" disabled>Select Department</option>
    <option *ngFor="let dept of departmentNames" [value]="dept.dept_name">
      {{ dept.dept_name }}
    </option>
  </select>

  <label for="date">Date</label>
  <input type="date" id="date" [(ngModel)]="date" name="date" required />

  <button [disabled]="!department || !date" (click)="submit()">GO</button>

  <div *ngIf="departmentNames.length === 0 && department !== ''">
    <p>No departments found.</p>
  </div>
</div>

<!-- Table for Attendance Data -->
<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Employee Code</th>
        <th>Department</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="filteredEmployees.length === 0">
        <td colspan="3" class="no-data">No employees found.</td>
      </tr>
      <tr *ngFor="let emp of filteredEmployees">
        <td>{{ emp.name }}</td>
        <td>{{ emp.code }}</td>
        <td>{{ emp.department }}</td>
      </tr>
    </tbody>
  </table>
</div>
